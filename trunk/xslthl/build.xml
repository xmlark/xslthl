<?xml version="1.0" encoding="utf-8"?>
<project name="xslthl" default="build">

	<target name="clean" description="Clean the intermediate files and distribution">
		<delete dir="build" />
		<delete dir="dist" />
		<ant dir="examples" target="clean" />
	</target>

	<target name="init">
		<mkdir dir="build" />
		<mkdir dir="dist" />
	</target>

	<target name="build" depends="jar,distmisc" description="Build the Xslthl distribution" />

	<target name="examples" description="Run the examples">
		<ant dir="examples" target="build" />
	</target>

	<target name="compile" depends="init">
		<javac srcdir="src" destdir="build">
			<classpath>
				<fileset dir="lib" includes="**/*.jar" />
			</classpath>
		</javac>
	</target>

	<target name="jar" depends="compile">
		<jar jarfile="dist/xslthl.jar">
			<fileset dir="build">
				<include name="**/*.class" />
			</fileset>
		</jar>
	</target>

	<target name="distmisc" depends="init">
		<copy todir="dist">
			<fileset dir="highlighters">
				<include name="**/*.xml" />
			</fileset>
			<fileset dir="${basedir}">
				<include name="LICENSE.txt" />
			</fileset>
		</copy>
	</target>

</project>